<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market Sizing Calculator</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background-color: #f9fafb;
        }
        .icon {
            display: inline-block;
            width: 1.5em;
            height: 1.5em;
            margin-right: 0.5em;
            vertical-align: middle;
        }
        .icon-sm {
            width: 1em;
            height: 1em;
        }
        .icon-lg {
            width: 2em;
            height: 2em;
        }
        .icon-xl {
            width: 3em;
            height: 3em;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Simple icon components (replacing Lucide)
        const Calculator = ({ className }) => (
            <div className={`${className} icon`} style={{background: '#2563eb', borderRadius: '4px', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.8em'}}>
                ðŸ“Š
            </div>
        );

        const TrendingUp = ({ className }) => (
            <div className={`${className} icon`} style={{background: '#dc2626', borderRadius: '4px', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.8em'}}>
                ðŸ“ˆ
            </div>
        );

        const Users = ({ className }) => (
            <div className={`${className} icon`} style={{background: '#059669', borderRadius: '4px', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.8em'}}>
                ðŸ‘¥
            </div>
        );

        const DollarSign = ({ className }) => (
            <div className={`${className} icon`} style={{background: '#7c3aed', borderRadius: '4px', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.8em'}}>
                ðŸ’°
            </div>
        );

        const BarChart3 = ({ className }) => (
            <div className={`${className} icon`} style={{background: '#059669', borderRadius: '4px', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.8em'}}>
                ðŸ“Š
            </div>
        );

        const FileText = ({ className }) => (
            <div className={`${className} icon`} style={{background: '#6b7280', borderRadius: '4px', color: 'white', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '0.8em'}}>
                ðŸ“„
            </div>
        );

        const MarketSizingTool = () => {
            const [currentStep, setCurrentStep] = useState(1);
            const [method, setMethod] = useState('');
            const [marketData, setMarketData] = useState({
                targetMarket: '',
                totalBusinesses: '',
                averagePrice: '',
                surveySize: '',
                interestedResponses: '',
                conservativeAdjustment: '',
                developmentCost: ''
            });
            const [results, setResults] = useState({
                potentialCustomers: 0,
                totalRevenue: 0,
                investmentRatio: 0,
                interestRate: 0
            });

            const updateResults = () => {
                const totalBiz = parseInt(marketData.totalBusinesses) || 0;
                const surveySize = parseInt(marketData.surveySize) || 0;
                const interested = parseInt(marketData.interestedResponses) || 0;
                const conservative = parseInt(marketData.conservativeAdjustment) || interested;
                const price = parseFloat(marketData.averagePrice) || 0;
                const devCost = parseFloat(marketData.developmentCost) || 0;

                if (surveySize > 0) {
                    const interestRate = (conservative / surveySize) * 100;
                    const potentialCustomers = Math.round((totalBiz * conservative) / surveySize);
                    const totalRevenue = potentialCustomers * price;
                    const investmentRatio = devCost > 0 ? (devCost / totalRevenue) * 100 : 0;

                    setResults({
                        potentialCustomers,
                        totalRevenue,
                        investmentRatio,
                        interestRate
                    });
                }
            };

            useEffect(() => {
                updateResults();
            }, [marketData]);

            const handleInputChange = (field, value) => {
                setMarketData(prev => ({
                    ...prev,
                    [field]: value
                }));
            };

            const formatCurrency = (amount) => {
                return new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: 'USD',
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                }).format(amount);
            };

            const formatNumber = (num) => {
                return new Intl.NumberFormat('en-US').format(num);
            };

            const MethodSelection = () => (
                <div className="space-y-6">
                    <div className="text-center">
                        <h2 className="text-2xl font-bold text-gray-900 mb-2">Choose Your Approach</h2>
                        <p className="text-gray-600">Select the market sizing method that best fits your situation</p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        <div 
                            className={`p-6 border-2 rounded-lg cursor-pointer transition-all ${
                                method === 'top-down' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'
                            }`}
                            onClick={() => setMethod('top-down')}
                        >
                            <div className="flex items-center mb-4">
                                <TrendingUp className="h-8 w-8 text-blue-600 mr-3" />
                                <h3 className="text-xl font-semibold">Top-Down</h3>
                            </div>
                            <p className="text-gray-600 mb-4">Start with the total market size and work down to your addressable portion.</p>
                            <div className="text-sm text-gray-500">
                                <strong>Best for:</strong> Quick estimates, established markets
                                <br />
                                <strong>Limitation:</strong> Can be overly optimistic
                            </div>
                        </div>

                        <div 
                            className={`p-6 border-2 rounded-lg cursor-pointer transition-all ${
                                method === 'bottom-up' ? 'border-blue-500 bg-blue-50' : 'border-gray-200 hover:border-gray-300'
                            }`}
                            onClick={() => setMethod('bottom-up')}
                        >
                            <div className="flex items-center mb-4">
                                <BarChart3 className="h-8 w-8 text-green-600 mr-3" />
                                <h3 className="text-xl font-semibold">Bottom-Up</h3>
                            </div>
                            <p className="text-gray-600 mb-4">Build up from actual market research and customer validation data.</p>
                            <div className="text-sm text-gray-500">
                                <strong>Best for:</strong> Accurate forecasting, new products
                                <br />
                                <strong>Requires:</strong> Market research data
                            </div>
                        </div>
                    </div>

                    {method && (
                        <div className="text-center">
                            <button 
                                onClick={() => setCurrentStep(2)}
                                className="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors"
                            >
                                Continue with {method === 'top-down' ? 'Top-Down' : 'Bottom-Up'} Approach
                            </button>
                        </div>
                    )}
                </div>
            );

            const DataInput = () => (
                <div className="space-y-6">
                    <div className="text-center">
                        <h2 className="text-2xl font-bold text-gray-900 mb-2">Market Research Data</h2>
                        <p className="text-gray-600">Enter your market research findings</p>
                    </div>

                    <div className="grid md:grid-cols-2 gap-6">
                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Target Market Description
                                </label>
                                <textarea
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    rows="3"
                                    placeholder="e.g., Independent bars and restaurants in the US"
                                    value={marketData.targetMarket}
                                    onChange={(e) => handleInputChange('targetMarket', e.target.value)}
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Total Target Businesses
                                </label>
                                <input
                                    type="number"
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="20000"
                                    value={marketData.totalBusinesses}
                                    onChange={(e) => handleInputChange('totalBusinesses', e.target.value)}
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Average Price per Sale ($)
                                </label>
                                <input
                                    type="number"
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="30000"
                                    value={marketData.averagePrice}
                                    onChange={(e) => handleInputChange('averagePrice', e.target.value)}
                                />
                            </div>
                        </div>

                        <div className="space-y-4">
                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Survey Sample Size
                                </label>
                                <input
                                    type="number"
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="150"
                                    value={marketData.surveySize}
                                    onChange={(e) => handleInputChange('surveySize', e.target.value)}
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Interested Responses
                                </label>
                                <input
                                    type="number"
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="55"
                                    value={marketData.interestedResponses}
                                    onChange={(e) => handleInputChange('interestedResponses', e.target.value)}
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Conservative Adjustment
                                </label>
                                <input
                                    type="number"
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="22"
                                    value={marketData.conservativeAdjustment}
                                    onChange={(e) => handleInputChange('conservativeAdjustment', e.target.value)}
                                />
                            </div>

                            <div>
                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                    Development Cost ($)
                                </label>
                                <input
                                    type="number"
                                    className="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    placeholder="10000000"
                                    value={marketData.developmentCost}
                                    onChange={(e) => handleInputChange('developmentCost', e.target.value)}
                                />
                            </div>
                        </div>
                    </div>

                    <div className="flex justify-between">
                        <button 
                            onClick={() => setCurrentStep(1)}
                            className="bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-600 transition-colors"
                        >
                            Back
                        </button>
                        <button 
                            onClick={() => setCurrentStep(3)}
                            className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors"
                        >
                            Calculate Results
                        </button>
                    </div>
                </div>
            );

            const ResultsView = () => (
                <div className="space-y-6">
                    <div className="text-center">
                        <h2 className="text-2xl font-bold text-gray-900 mb-2">Market Sizing Results</h2>
                        <p className="text-gray-600">Based on your {method} analysis</p>
                    </div>

                    <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div className="bg-blue-50 p-6 rounded-lg">
                            <div className="flex items-center mb-2">
                                <Users className=
